if(window.WebKitBlobBuilder)var saveAs=saveAs||function(t){"use strict";var e=t.document,n=t.URL||t.webkitURL||t,r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in r,i=t.webkitRequestFileSystem,a=t.requestFileSystem||i||t.mozRequestFileSystem,c=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},s=0,u=[],l=function(t,e,n){for(var r=(e=[].concat(e)).length;r--;){var o=t["on"+e[r]];if("function"==typeof o)try{o.call(t,n||t)}catch(t){c(t)}}},f=function(n,c){var f,d,w,p,v,h=this,y=n.type,R=!1,E=function(){var e=(t.URL||t.webkitURL||t).createObjectURL(n);return u.push(e),e},m=function(){l(h,"writestart progress write writeend".split(" "))},b=function(){!R&&f||(f=E()),d.location.href=f,h.readyState=h.DONE,m()},N=function(t){return function(){if(h.readyState!==h.DONE)return t.apply(this,arguments)}},S={create:!0,exclusive:!1};if(h.readyState=h.INIT,c||(c="download"),o&&(f=E(),r.href=f,r.download=c,p=r,(v=e.createEvent("MouseEvents")).initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),p.dispatchEvent(v)))return h.readyState=h.DONE,void m();t.chrome&&y&&"application/octet-stream"!==y&&(w=n.slice||n.webkitSlice,n=w.call(n,0,n.size,"application/octet-stream"),R=!0),i&&"download"!==c&&(c+=".download"),d="application/octet-stream"===y||i?t:t.open(),a?(s+=n.size,a(t.TEMPORARY,s,N(function(t){t.root.getDirectory("saved",S,N(function(t){var e=function(){t.getFile(c,S,N(function(t){t.createWriter(N(function(e){e.onwriteend=function(e){d.location.href=t.toURL(),u.push(t),h.readyState=h.DONE,l(h,"writeend",e)},e.onerror=function(){var t=e.error;t.code!==t.ABORT_ERR&&b()},"writestart progress write abort".split(" ").forEach(function(t){e["on"+t]=h["on"+t]}),e.write(n),h.abort=function(){e.abort(),h.readyState=h.DONE},h.readyState=h.WRITING}),b)}),b)};t.getFile(c,{create:!1},N(function(t){t.remove(),e()}),N(function(t){t.code===t.NOT_FOUND_ERR?e():b()}))}),b)}),b)):b()},d=f.prototype;return d.abort=function(){this.readyState=this.DONE,l(this,"abort")},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,t.addEventListener("unload",function(){for(var t=u.length;t--;){var e=u[t];"string"==typeof e?n.revokeObjectURL(e):e.remove()}u.length=0},!1),function(t,e){return new f(t,e)}}(self);