function objects_hide(){window.loadjQuery&&loadjQuery(),$("embed,object").each(function(){var e=$(this);e.attr("isVisible")||(e.attr("isVisible","hidden"==e.css("visiblity")?"no":"yes"),e.css("visibility","hidden"))})}function objects_show(){window.loadjQuery&&loadjQuery(),$("embed,object").each(function(){var e=$(this),t=e.attr("isVisible");t&&(e.css("visibility","yes"==t?"visible":"hidden"),e.attr("isVisible",null))})}function Dialog(e){window.loadjQuery&&loadjQuery();var t,s=this;s.options=e,s.options=$.extend({closeOnClick:!0},s.options),window.iframeZindex||(iframeZindex=1e5),iframeZindex++,this.iframe=document.createElement("iframe");var i=this.iframe;this.iframe.style.display="none",this.iframe.style.zIndex=iframeZindex,this.iframe.frameBorder=0,this.iframe.scrolling="no",this.contentDocument=this.iframe.contentDocument,document.body.appendChild(this.iframe),this.frameDocument=this.iframe.contentDocument;var a=document.createElement("div");a.innerHTML='<link href="'+chrome.extension.getURL("/css/dialog.css")+'" rel="stylesheet"/>',this.iframe.contentDocument.body.appendChild(a),this.iframe.contentWindow.addEventListener("message",function(e){var t=JSON.parse(e.data);chrome.runtime.sendMessage(t)},!1),"dialog"==s.options.ui?(a=$('<div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable"><div class="ui-header"><div title=close class="onlyDisplay ui-close">&times;</div> <span id="title" class="ui-title" ></span></div><div id=content class="ui-dialog-content ui-widget-content"></div></div>'),$("[title=close]",a).click(function(){r()}),$("#title",a).html(s.options.title),t=a.find("#content")):(a=$("<div>"),t=a);var r=function(e){s.close(),e&&$.isFunction(e)&&e()},n=function(e){27==e.keyCode&&r()};s.options.closeOnClick&&window.setTimeout(function(){$(document).on("click",r)},0),document.addEventListener("keyup",n),this.iframe.contentDocument.addEventListener("keyup",n),this.iframe.contentDocument.body.appendChild(a[0]),s.options.html?t.append(s.options.html):t.append(s.options.element);for(var o=["libs/jquery.js","js/dialog.js"],c=0;c<o.length;c++){var h=this.iframe.contentWindow.document.createElement("script");h.src=chrome.extension.getURL(o[c]),this.iframe.contentWindow.document.body.appendChild(h)}this.iframe.style.display="",this.iframe.style.visibility="hidden",this.show=function(){return this.resize(),this.iframe.style.visibility="visible",this.timeOut=window.setInterval(this.resize.bind(this),100),this},this.resize=function(){if(this.iframe){this.iframe.style.position="fixed",this.iframe.style.width="70%";var e=.8*window.innerHeight,s=(t[0].scrollHeight,t[0].clientHeight,t[0].scrollHeight+52);return s<30&&(s=30),s>e&&(s=e),$(this.iframe).css({height:s+"px"}),this.iframe.style.top=(window.innerHeight-this.iframe.contentWindow.innerHeight)/2+"px",this.iframe.style.left=(window.innerWidth-this.iframe.contentWindow.innerWidth)/2+"px",this}window.clearTimeout(this.timeOut)},this.close=function(){return this.timeOut&&window.clearTimeout(this.timeOut),s.options.onClose&&s.options.onClose(),$(document).off("keyup",n),$(document).off("click",r),$(i).remove(),delete this.timeOut,this},this.remove=this.close,this.print=function(){return $(this.iframe).css({height:t.height()+"px"}),this.iframe.contentWindow.print(),this.close(),this}}function XmlRpc(){}function XmlRpcRequest(e,t){this.serviceUrl=e,this.methodName=t,this.crossDomain=!1,this.withCredentials=!1,this.params=[],this.headers={}}function XmlRpcResponse(e){this.xmlData=e}function Builder(){}function Base64(e,t){this.bytes=e,this.noencode=t}XmlRpc.PROLOG='<?xml version="1.0"?>\n',XmlRpc.REQUEST="<methodCall>\n<methodName>${METHOD}</methodName>\n<params>\n${DATA}</params>\n</methodCall>",XmlRpc.PARAM="<param>\n<value>\n${DATA}</value>\n</param>\n",XmlRpc.ARRAY="<array>\n<data>\n${DATA}</data>\n</array>\n",XmlRpc.STRUCT="<struct>\n${DATA}</struct>\n",XmlRpc.MEMBER="<member>\n${DATA}</member>\n",XmlRpc.NAME="<name>${DATA}</name>\n",XmlRpc.VALUE="<value>\n${DATA}</value>\n",XmlRpc.SCALAR="<${TYPE}>${DATA}</${TYPE}>\n",XmlRpc.getDataTag=function(e){try{var t=typeof e;switch(t.toLowerCase()){case"number":t=Math.round(e)==e?"int":"double";break;case"object":t=e.constructor==Base64?"base64":e.constructor==String?"string":e.constructor==Boolean?"boolean":e.constructor==Array?"array":e.constructor==Date?"dateTime.iso8601":e.constructor==Number?Math.round(e)==e?"int":"double":"struct"}return t}catch(e){return null}},XmlRpc.getTagData=function(e){var t=null;switch(e){case"struct":t=new Object;break;case"array":t=new Array;break;case"datetime.iso8601":t=new Date;break;case"boolean":t=new Boolean;break;case"int":case"i4":case"double":t=new Number;break;case"string":t=new String;break;case"base64":t=new Base64}return t},XmlRpcRequest.prototype.addParam=function(e){switch((typeof e).toLowerCase()){case"function":return;case"object":if(!e.constructor.name)return}this.params.push(e)},XmlRpcRequest.prototype.clearParams=function(){this.params.splice(0,this.params.length)},XmlRpcRequest.prototype.setHeader=function(e,t){t?this.headers[e]=t:delete this.headers[e]},XmlRpcRequest.prototype.send=function(){window.loadjQuery&&loadjQuery();var e,t="",s=0;for(s=0;s<this.params.length;s++)t+=XmlRpc.PARAM.replace("${DATA}",this.marshal(this.params[s]));return e=XmlRpc.REQUEST.replace("${METHOD}",this.methodName),e=XmlRpc.PROLOG+e.replace("${DATA}",t),$.ajax({method:"post",url:this.serviceUrl,context:this,async:!0,showProgress:!0,beforeSend:function(e){for(var t in this.headers)this.headers.hasOwnProperty(t)&&(void 0).setRequestHeader(t,this.headers[t])},xhrFields:{withCredentials:!!(this.withCredentials&&"withCredentials"in void 0)||null},data:(new XMLSerializer).serializeToString(Builder.buildDOM(e)),converters:{"text xml":function(e){return new XmlRpcResponse(e=$.parseXML(e)).parseXML()}}})},XmlRpcRequest.prototype.marshal=function(e){var t,s,i,a=XmlRpc.getDataTag(e),r=XmlRpc.SCALAR.replace(/\$\{TYPE\}/g,a),n="";switch(a){case"struct":for(s in i="",e)t="",t+=XmlRpc.NAME.replace("${DATA}",s),t+=XmlRpc.VALUE.replace("${DATA}",this.marshal(e[s])),i+=XmlRpc.MEMBER.replace("${DATA}",t);n=XmlRpc.STRUCT.replace("${DATA}",i);break;case"array":for(t="",s=0;s<e.length;s++)t+=XmlRpc.VALUE.replace("${DATA}",this.marshal(e[s]));n=XmlRpc.ARRAY.replace("${DATA}",t);break;case"dateTime.iso8601":n=r.replace("${DATA}",e.toIso8601());break;case"boolean":n=r.replace("${DATA}",1==e?1:0);break;case"base64":n=r.replace("${DATA}",e.encode());break;default:n=r.replace("${DATA}",e)}return n},XmlRpcResponse.prototype.isFault=function(){return this.faultValue},XmlRpcResponse.prototype.parseXML=function(){var e,t;for(t=this.xmlData.childNodes.length,this.faultValue=void 0,this.currentIsName=!1,this.propertyName="",this.params=[],e=0;e<t;e++)this.unmarshal(this.xmlData.childNodes[e],0);return this.params[0]},XmlRpcResponse.prototype.unmarshal=function(e,t){var s,i,a,r;if(1==e.nodeType){switch(s=null,i=e.tagName.toLowerCase()){case"fault":this.faultValue=!0;break;case"name":this.currentIsName=!0;break;default:s=XmlRpc.getTagData(i)}if(null!=s&&(this.params.push(s),"struct"==i||"array"==i)){if(this.params.length>1)switch(XmlRpc.getDataTag(this.params[t])){case"struct":this.params[t][this.propertyName]=this.params[this.params.length-1];break;case"array":this.params[t].push(this.params[this.params.length-1])}t=this.params.length-1}for(r=e.childNodes.length,a=0;a<r;a++)this.unmarshal(e.childNodes[a],t)}if(3==e.nodeType&&/[^\t\n\r ]/.test(e.nodeValue))if(1==this.currentIsName)this.propertyName=e.nodeValue,this.currentIsName=!1;else{switch(XmlRpc.getDataTag(this.params[this.params.length-1])){case"dateTime.iso8601":this.params[this.params.length-1]=Date.fromIso8601(e.nodeValue);break;case"boolean":this.params[this.params.length-1]="1"==e.nodeValue;break;case"int":case"double":this.params[this.params.length-1]=new Number(e.nodeValue);break;case"string":this.params[this.params.length-1]=new String(e.nodeValue);break;case"base64":this.params[this.params.length-1]=new Base64(e.nodeValue)}if(this.params.length>1)switch(XmlRpc.getDataTag(this.params[t])){case"struct":this.params[t][this.propertyName]=this.params[this.params.length-1];break;case"array":this.params[t].push(this.params[this.params.length-1])}}},Builder.buildXHR=function(e){return e?"undefined"!=typeof XDomainRequest?new XDomainRequest:new XMLHttpRequest:"undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},Builder.buildDOM=function(e){var t,s,i;if("undefined"!=typeof DOMParser)return(t=new DOMParser).parseFromString(e,"text/xml");for(s=["Microsoft.XMLDOM","MSXML2.DOMDocument","MSXML.DOMDocument"],i=0;i<s.length;i++)try{return(t=new ActiveXObject(s[i])).loadXML(e),t}catch(e){}return null},Date.prototype.toIso8601=function(){var e=this.getYear(),t=this.getMonth()+1,s=this.getDate();return e<1900&&(e+=1900),t<10&&(t="0"+t),s<10&&(s="0"+s),e+t+s+"T"+this.toTimeString().substr(0,8)},Date.fromIso8601=function(e){var t=e.substr(0,4),s=e.substr(4,2),i=e.substr(6,2),a=e.substr(9,2),r=e.substr(12,2),n=e.substr(15,2);return new Date(t,s-1,i,a,r,n,0)},Base64.CHAR_MAP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Base64.prototype.encode=function(){if(this.noencode)return this.bytes;if("function"==typeof btoa)return btoa(this.bytes);var e=[],t=[],s=[],i=0,a=0;for(a=0;a<this.bytes.length;a+=3)e[0]=this.bytes.charCodeAt(a),e[1]=this.bytes.charCodeAt(a+1),e[2]=this.bytes.charCodeAt(a+2),t[0]=e[0]>>2,t[1]=(3&e[0])<<4|e[1]>>4,t[2]=(15&e[1])<<2|e[2]>>6,t[3]=63&e[2],isNaN(e[1])?t[2]=t[3]=64:isNaN(e[2])&&(t[3]=64),s[i++]=Base64.CHAR_MAP.charAt(t[0])+Base64.CHAR_MAP.charAt(t[1])+Base64.CHAR_MAP.charAt(t[2])+Base64.CHAR_MAP.charAt(t[3]);return s.join("")},Base64.prototype.decode=function(){if("function"==typeof atob)return atob(this.bytes);for(var e=[],t=[],s=[],i=0,a=0;this.bytes.length%4!=0;)this.bytes+="=";for(a=0;a<this.bytes.length;a+=4)t[0]=Base64.CHAR_MAP.indexOf(this.bytes.charAt(a)),t[1]=Base64.CHAR_MAP.indexOf(this.bytes.charAt(a+1)),t[2]=Base64.CHAR_MAP.indexOf(this.bytes.charAt(a+2)),t[3]=Base64.CHAR_MAP.indexOf(this.bytes.charAt(a+3)),e[0]=t[0]<<2|t[1]>>4,e[1]=(15&t[1])<<4|t[2]>>2,e[2]=(3&t[2])<<6|t[3],s[i++]=String.fromCharCode(e[0]),64!=t[2]&&(s[i++]=String.fromCharCode(e[1])),64!=t[3]&&(s[i++]=String.fromCharCode(e[2]));return s.join("")};